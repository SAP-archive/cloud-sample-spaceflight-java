const CONVERTED = Symbol.for('converted')

/**
 * Convert any result to the result object structure, which is expected of odata-v4.
 * @param {*} result
 * @return {string|object}
 */
const toODataResult = (result) => {
  if (result === undefined || result === null) {
    return ''
  }

  if (result[CONVERTED]) {
    return result
  }

  return {
    [CONVERTED]: true,
    value: result
  }
}

module.exports = {
  toODataResult
}
