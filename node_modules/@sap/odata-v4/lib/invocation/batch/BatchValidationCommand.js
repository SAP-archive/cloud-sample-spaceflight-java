'use strict';

const BatchValidator = require('../../batch/BatchValidator');
const Command = require('../Command');

/**
 * Starts the validation of batch requests
 *
 * @extends Command
 */
class BatchValidationCommand extends Command {

    /**
     * Creates an instance of BatchValidationCommand
     *
     * @param {BatchContext} batchContext The current batch context instance
     */
    constructor(batchContext) {
        super(null);

        /**
         * Batch context
         * @type {BatchContext}
         * @private
         */
        this._batchContext = batchContext;
    }

    /**
     * Executes the BatchValidator
     *
     * @param {Command~Next} next The callback to execute inside the listener.
     */
    execute(next) {
        BatchValidator.validate(this._batchContext);
        return next();
    }
}

module.exports = BatchValidationCommand;
